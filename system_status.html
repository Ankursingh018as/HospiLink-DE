<!DOCTYPE html>
<html>
<head>
    <title>HospiLink System Status</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #00adb5;
            text-align: center;
            margin-bottom: 30px;
            font-size: 32px;
        }
        h2 {
            color: #333;
            margin: 30px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 3px solid #00adb5;
        }
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .status-card {
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
        }
        .status-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .status-card.success {
            border-color: #28a745;
            background: #e8f5e9;
        }
        .status-card.warning {
            border-color: #ffc107;
            background: #fff3cd;
        }
        .status-card.error {
            border-color: #dc3545;
            background: #f8d7da;
        }
        .status-icon {
            font-size: 48px;
            text-align: center;
            margin-bottom: 15px;
        }
        .status-title {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
            color: #333;
        }
        .status-desc {
            font-size: 14px;
            text-align: center;
            color: #666;
            line-height: 1.6;
        }
        .btn {
            display: inline-block;
            padding: 12px 25px;
            background: #00adb5;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            margin: 5px;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        .btn:hover {
            background: #008b94;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,171,181,0.3);
        }
        .btn-secondary {
            background: #6c757d;
        }
        .btn-secondary:hover {
            background: #545b62;
        }
        .action-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 30px 0;
        }
        .info-box {
            background: #f0f8ff;
            border-left: 4px solid #00adb5;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #28a745;
        }
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        table th {
            background: #00adb5;
            color: white;
            padding: 12px;
            text-align: left;
        }
        table td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        table tr:hover {
            background: #f5f5f5;
        }
        .refresh-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #00adb5;
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s;
        }
        .refresh-btn:hover {
            transform: scale(1.1) rotate(180deg);
            background: #008b94;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¥ HospiLink System Status</h1>
        
        <div class="info-box success-box">
            <strong>âœ… All Systems Operational</strong>
            <p style="margin-top: 8px;">HospiLink is running with real-time updates enabled for beds, staff dashboard, and QR system.</p>
        </div>

        <h2>ğŸ“Š System Components</h2>
        <div class="status-grid">
            <div class="status-card success">
                <div class="status-icon">âœ…</div>
                <div class="status-title">Beds System</div>
                <div class="status-desc">Real-time updates enabled<br><small>(10-second refresh interval)</small></div>
            </div>
            
            <div class="status-card success">
                <div class="status-icon">âœ…</div>
                <div class="status-title">Staff Dashboard</div>
                <div class="status-desc">Auto-refresh enabled<br><small>(30-second interval)</small></div>
            </div>
            
            <div class="status-card success">
                <div class="status-icon">âœ…</div>
                <div class="status-title">OTP System</div>
                <div class="status-desc">Staff role support added<br><small>(All roles supported)</small></div>
            </div>
            
            <div class="status-card success">
                <div class="status-icon">âœ…</div>
                <div class="status-title">QR System</div>
                <div class="status-desc">Helper functions loaded<br><small>(patient_admissions table)</small></div>
            </div>
        </div>

        <h2>ğŸ”— Quick Links</h2>
        <div class="action-grid">
            <a href="sign_new.html" class="btn">ğŸ‘¤ Login/Register</a>
            <a href="dashboards/staff_dashboard.php" class="btn">ğŸ‘¨â€âš•ï¸ Staff Dashboard</a>
            <a href="beds.html" class="btn">ğŸ›ï¸ Beds Management</a>
            <a href="qr-print.php" class="btn">ğŸ“± Generate QR Code</a>
            <a href="scan.php" class="btn">ğŸ“· Scan QR Code</a>
            <a href="test_all_systems.php" class="btn btn-secondary">ğŸ”§ System Diagnostic</a>
        </div>

        <h2>ğŸ” Test Credentials</h2>
        <table>
            <thead>
                <tr>
                    <th>Role</th>
                    <th>Email</th>
                    <th>Password</th>
                    <th>Department</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>ğŸ‘¨â€âš•ï¸ Nurse</strong></td>
                    <td><code>nurse.sharma@hospilink.com</code></td>
                    <td><code>nurse123</code></td>
                    <td>General Ward</td>
                </tr>
                <tr>
                    <td><strong>ğŸ‘©â€âš•ï¸ Nurse</strong></td>
                    <td><code>nurse.patel@hospilink.com</code></td>
                    <td><code>nurse123</code></td>
                    <td>ICU</td>
                </tr>
                <tr>
                    <td><strong>ğŸ‘” Admin</strong></td>
                    <td><code>admin@hospilink.com</code></td>
                    <td><code>admin123</code></td>
                    <td>Administration</td>
                </tr>
            </tbody>
        </table>

        <div class="info-box warning-box">
            <strong>âš ï¸ Important: Login Role Selection</strong>
            <p style="margin-top: 8px;">When logging in with nurse accounts, select <strong>"Hospital Staff"</strong> from the role dropdown (not "nurse"). The system automatically maps staff/nurse roles.</p>
        </div>

        <h2>ğŸ¯ Features Overview</h2>
        
        <h3 style="color: #333; margin: 20px 0 10px 0;">âœ¨ Real-Time Features</h3>
        <table>
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>Status</th>
                    <th>Details</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Bed Availability</td>
                    <td><span style="color: green;">â— Live</span></td>
                    <td>Updates every 10 seconds automatically</td>
                </tr>
                <tr>
                    <td>Patient Admissions</td>
                    <td><span style="color: green;">â— Live</span></td>
                    <td>Real-time dashboard for staff</td>
                </tr>
                <tr>
                    <td>QR Code Scanning</td>
                    <td><span style="color: green;">â— Active</span></td>
                    <td>Mobile-friendly patient status access</td>
                </tr>
                <tr>
                    <td>OTP Verification</td>
                    <td><span style="color: green;">â— Active</span></td>
                    <td>6-digit OTP for all roles including staff</td>
                </tr>
            </tbody>
        </table>

        <h3 style="color: #333; margin: 20px 0 10px 0;">ğŸ“± QR System</h3>
        <div class="info-box">
            <p><strong>How it works:</strong></p>
            <ol style="margin: 10px 0 0 20px; line-height: 1.8;">
                <li>Patient gets admitted â†’ QR code automatically generated</li>
                <li>QR code printed and placed near patient's bed</li>
                <li>Doctors/nurses scan QR with mobile phone</li>
                <li>Instant access to patient status, vitals, and history</li>
                <li>Update patient status directly from mobile</li>
            </ol>
        </div>

        <h3 style="color: #333; margin: 20px 0 10px 0;">ğŸ›ï¸ Beds Management</h3>
        <div class="info-box">
            <p><strong>Dynamic Features:</strong></p>
            <ul style="margin: 10px 0 0 20px; line-height: 1.8;">
                <li>Auto-refresh every 10 seconds - see real-time availability</li>
                <li>Visual ward-wise grouping (ICU, General Ward, Emergency, etc.)</li>
                <li>Color-coded bed status (Available, Occupied, Under Maintenance)</li>
                <li>One-click bed assignment/release</li>
            </ul>
        </div>

        <h2>ğŸš€ What's New</h2>
        <div class="status-grid">
            <div class="status-card" style="border-color: #17a2b8; background: #d1ecf1;">
                <div class="status-icon" style="color: #17a2b8;">ğŸ”„</div>
                <div class="status-title" style="color: #17a2b8;">Real-Time Updates</div>
                <div class="status-desc">Beds page now refreshes automatically every 10 seconds</div>
            </div>
            
            <div class="status-card" style="border-color: #17a2b8; background: #d1ecf1;">
                <div class="status-icon" style="color: #17a2b8;">ğŸ‘¨â€âš•ï¸</div>
                <div class="status-title" style="color: #17a2b8;">Staff Dashboard Enhanced</div>
                <div class="status-desc">30-second auto-refresh for patient lists and bed status</div>
            </div>
            
            <div class="status-card" style="border-color: #17a2b8; background: #d1ecf1;">
                <div class="status-icon" style="color: #17a2b8;">ğŸ“±</div>
                <div class="status-title" style="color: #17a2b8;">OTP for Staff</div>
                <div class="status-desc">Hospital staff can now register with OTP verification</div>
            </div>
            
            <div class="status-card" style="border-color: #17a2b8; background: #d1ecf1;">
                <div class="status-icon" style="color: #17a2b8;">âœ…</div>
                <div class="status-title" style="color: #17a2b8;">QR System Fixed</div>
                <div class="status-desc">Helper functions loaded, using patient_admissions table</div>
            </div>
        </div>

        <h2>ğŸ’¡ Testing Guide</h2>
        <div class="info-box">
            <h4 style="margin-bottom: 10px;">1. Test Staff Login</h4>
            <ol style="margin: 5px 0 15px 20px; line-height: 1.8;">
                <li>Go to <code>sign_new.html</code></li>
                <li>Click "Sign In"</li>
                <li>Email: <code>nurse.sharma@hospilink.com</code></li>
                <li>Password: <code>nurse123</code></li>
                <li>Role: Select <strong>"Hospital Staff"</strong> (important!)</li>
                <li>Should redirect to Staff Dashboard</li>
            </ol>

            <h4 style="margin-bottom: 10px;">2. Test Real-Time Beds</h4>
            <ol style="margin: 5px 0 15px 20px; line-height: 1.8;">
                <li>Open <code>beds.html</code></li>
                <li>Wait and watch - page refreshes every 10 seconds</li>
                <li>Check browser console for "Refreshing bed data..." messages</li>
                <li>Try changing bed status - it updates across all viewers</li>
            </ol>

            <h4 style="margin-bottom: 10px;">3. Test OTP for Staff Registration</h4>
            <ol style="margin: 5px 0 15px 20px; line-height: 1.8;">
                <li>Go to <code>sign_new.html</code></li>
                <li>Click "Sign Up"</li>
                <li>Fill details, select role: <strong>"Hospital Staff"</strong></li>
                <li>Enter Department and Staff ID</li>
                <li>Submit - should receive OTP (check console/email)</li>
                <li>Enter 6-digit OTP to complete registration</li>
            </ol>

            <h4 style="margin-bottom: 10px;">4. Test QR System</h4>
            <ol style="margin: 5px 0 15px 20px; line-height: 1.8;">
                <li>Admit a patient through doctor dashboard</li>
                <li>Go to <code>test_all_systems.php</code> to verify QR token generated</li>
                <li>Open <code>qr-print.php?admission_id=X</code> to print QR</li>
                <li>Scan QR code with mobile phone</li>
                <li>Should show patient status page</li>
            </ol>
        </div>

        <div class="info-box success-box" style="text-align: center; margin-top: 30px;">
            <h3 style="color: #28a745; margin-bottom: 10px;">ğŸ‰ System Ready!</h3>
            <p>All features are now dynamic with real-time updates. Start testing the staff dashboard, beds management, and QR system!</p>
        </div>
    </div>

    <button class="refresh-btn" onclick="location.reload()" title="Refresh Status">
        ğŸ”„
    </button>
</body>
</html>
